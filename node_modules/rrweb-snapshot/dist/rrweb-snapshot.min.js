var rrwebSnapshot=function(e){"use strict";var t;(t=e.NodeType||(e.NodeType={}))[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment";var r=1;function n(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).reduce(function(e,t){return e+(function(e){return"styleSheet"in e}(r=t)?n(r.styleSheet)||"":r.cssText);var r},""):null}catch(e){return null}}var i=/url\((?:'([^']*)'|"([^"]*)"|([^)]*))\)/gm,a=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/).*/,o=/^(data:)([\w\/\+]+);(charset=[\w-]+|base64).*,(.*)/gi;function s(e,t){return e.replace(i,function(e,r,n,i){var s,u=r||n||i;if(!u)return e;if(!a.test(u))return"url('"+u+"')";if(o.test(u))return"url("+u+")";if("/"===u[0])return"url('"+(((s=t).indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+u)+"')";var c=t.split("/"),f=u.split("/");c.pop();for(var l=0,p=f;l<p.length;l++){var m=p[l];"."!==m&&(".."===m?c.pop():c.push(m))}return"url('"+c.join("/")+"')"})}function u(e,t){var r=e.createElement("a");return r.href=t,r.href}function c(t,r,i,a,o){switch(t.nodeType){case t.DOCUMENT_NODE:return{type:e.NodeType.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:e.NodeType.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId};case t.ELEMENT_NODE:var c=!1;"string"==typeof i?c=t.classList.contains(i):t.classList.forEach(function(e){i.test(e)&&(c=!0)});for(var f=t.tagName.toLowerCase(),l={},p=0,m=Array.from(t.attributes);p<m.length;p++){var d=m[p],h=d.name,v=d.value;l[h]="src"===h||"href"===h?u(r,v):"style"===h?s(v,location.href):v}if("link"===f&&a){var y,g=Array.from(r.styleSheets).find(function(e){return e.href===t.href});(y=n(g))&&(delete l.rel,delete l.href,l._cssText=s(y,g.href))}if("style"===f&&t.sheet&&!(t.innerText||t.textContent||"").trim().length)(y=n(t.sheet))&&(l._cssText=s(y,location.href));if("input"===f||"textarea"===f||"select"===f){v=t.value;"radio"!==l.type&&"checkbox"!==l.type&&v?l.value=o?"*".repeat(v.length):v:t.checked&&(l.checked=t.checked)}if("option"===f){var T=t.parentElement;l.value===T.value&&(l.selected=t.selected)}if(c){var N=t.getBoundingClientRect(),E=N.width,C=N.height;l.rr_width=E+"px",l.rr_height=C+"px"}return{type:e.NodeType.Element,tagName:f,attributes:l,childNodes:[],isSVG:(D=t,"svg"===D.tagName||D instanceof SVGElement||void 0),needBlock:c};case t.TEXT_NODE:var b=t.parentNode&&t.parentNode.tagName,x=t.textContent,w="STYLE"===b||void 0;return w&&x&&(x=s(x,location.href)),"SCRIPT"===b&&(x="SCRIPT_PLACEHOLDER"),{type:e.NodeType.Text,textContent:x||"",isStyle:w};case t.CDATA_SECTION_NODE:return{type:e.NodeType.CDATA,textContent:""};case t.COMMENT_NODE:return{type:e.NodeType.Comment,textContent:t.textContent||""};default:return!1}var D}function f(t,n,i,a,o,s,u){void 0===o&&(o=!1),void 0===s&&(s=!0),void 0===u&&(u=!1);var l,p=c(t,n,a,s,u);if(!p)return console.warn(t,"not serialized"),null;l="__sn"in t?t.__sn.id:r++;var m=Object.assign(p,{id:l});t.__sn=m,i[l]=t;var d=!o;if(m.type===e.NodeType.Element&&(d=d&&!m.needBlock,delete m.needBlock),(m.type===e.NodeType.Document||m.type===e.NodeType.Element)&&d)for(var h=0,v=Array.from(t.childNodes);h<v.length;h++){var y=f(v[h],n,i,a,o,s,u);y&&m.childNodes.push(y)}return m}var l=/\/\*[^*]*\*+([^\/*][^*]*\*+)*\//g;function p(e,t){void 0===t&&(t={});var r=1,n=1;function i(e){var t=e.match(/\n/g);t&&(r+=t.length);var i=e.lastIndexOf("\n");n=-1===i?n+e.length:e.length-i}function a(){var e={line:r,column:n};return function(t){return t.position=new o(e),h(),t}}var o=function(){return function(e){this.start=e,this.end={line:r,column:n},this.source=t.source}}();o.prototype.content=e;var s=[];function u(i){var a=new Error(t.source+":"+r+":"+n+": "+i);if(a.reason=i,a.filename=t.source,a.line=r,a.column=n,a.source=e,!t.silent)throw a;s.push(a)}function c(){return d(/^{\s*/)}function f(){return d(/^}/)}function p(){var t,r=[];for(h(),v(r);e.length&&"}"!==e.charAt(0)&&(t=A()||_());)!1!==t&&(r.push(t),v(r));return r}function d(t){var r=t.exec(e);if(r){var n=r[0];return i(n),e=e.slice(n.length),r}}function h(){d(/^\s*/)}function v(e){var t;for(void 0===e&&(e=[]);t=y();)!1!==t&&e.push(t),t=y();return e}function y(){var t=a();if("/"===e.charAt(0)&&"*"===e.charAt(1)){for(var r=2;""!==e.charAt(r)&&("*"!==e.charAt(r)||"/"!==e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return u("End of comment missing");var o=e.slice(2,r-2);return n+=2,i(o),e=e.slice(r),n+=2,t({type:"comment",comment:o})}}function g(){var e=d(/^([^{]+)/);if(e)return m(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,function(e){return e.replace(/,/g,"â€Œ")}).split(/\s*(?![^(]*\)),\s*/).map(function(e){return e.replace(/\u200C/g,",")})}function T(){var e=a(),t=d(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){var r=m(t[0]);if(!d(/^:\s*/))return u("property missing ':'");var n=d(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),i=e({type:"declaration",property:r.replace(l,""),value:n?m(n[0]).replace(l,""):""});return d(/^[;\s]*/),i}}function N(){var e,t=[];if(!c())return u("missing '{'");for(v(t);e=T();)!1!==e&&(t.push(e),v(t)),e=T();return f()?t:u("missing '}'")}function E(){for(var e,t=[],r=a();e=d(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),d(/^,\s*/);if(t.length)return r({type:"keyframe",values:t,declarations:N()})}var C,b=D("import"),x=D("charset"),w=D("namespace");function D(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var r=a(),n=d(t);if(n){var i={type:e};return i[e]=n[1].trim(),r(i)}}}function A(){if("@"===e[0])return function(){var e=a(),t=d(/^@([-\w]+)?keyframes\s*/);if(t){var r=t[1];if(!(t=d(/^([-\w]+)\s*/)))return u("@keyframes missing name");var n,i=t[1];if(!c())return u("@keyframes missing '{'");for(var o=v();n=E();)o.push(n),o=o.concat(v());return f()?e({type:"keyframes",name:i,vendor:r,keyframes:o}):u("@keyframes missing '}'")}}()||function(){var e=a(),t=d(/^@media *([^{]+)/);if(t){var r=m(t[1]);if(!c())return u("@media missing '{'");var n=v().concat(p());return f()?e({type:"media",media:r,rules:n}):u("@media missing '}'")}}()||function(){var e=a(),t=d(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:m(t[1]),media:m(t[2])})}()||function(){var e=a(),t=d(/^@supports *([^{]+)/);if(t){var r=m(t[1]);if(!c())return u("@supports missing '{'");var n=v().concat(p());return f()?e({type:"supports",supports:r,rules:n}):u("@supports missing '}'")}}()||b()||x()||w()||function(){var e=a(),t=d(/^@([-\w]+)?document *([^{]+)/);if(t){var r=m(t[1]),n=m(t[2]);if(!c())return u("@document missing '{'");var i=v().concat(p());return f()?e({type:"document",document:n,vendor:r,rules:i}):u("@document missing '}'")}}()||function(){var e=a();if(d(/^@page */)){var t=g()||[];if(!c())return u("@page missing '{'");for(var r,n=v();r=T();)n.push(r),n=n.concat(v());return f()?e({type:"page",selectors:t,declarations:n}):u("@page missing '}'")}}()||function(){var e=a();if(d(/^@host\s*/)){if(!c())return u("@host missing '{'");var t=v().concat(p());return f()?e({type:"host",rules:t}):u("@host missing '}'")}}()||function(){var e=a();if(d(/^@font-face\s*/)){if(!c())return u("@font-face missing '{'");for(var t,r=v();t=T();)r.push(t),r=r.concat(v());return f()?e({type:"font-face",declarations:r}):u("@font-face missing '}'")}}()}function _(){var e=a(),t=g();return t?(v(),e({type:"rule",selectors:t,declarations:N()})):u("selector missing")}return function e(t,r){var n=t&&"string"==typeof t.type;var i=n?t:r;for(var a=0,o=Object.keys(t);a<o.length;a++){var s=o[a],u=t[s];Array.isArray(u)?u.forEach(function(t){e(t,i)}):u&&"object"==typeof u&&e(u,i)}n&&Object.defineProperty(t,"parent",{configurable:!0,writable:!0,enumerable:!1,value:r||null});return t}((C=p(),{type:"stylesheet",stylesheet:{source:t.source,rules:C,parsingErrors:s}}))}function m(e){return e?e.replace(/^\s+|\s+$/g,""):""}var d={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};var h=/([^\\]):hover/g;function v(e){var t=p(e,{silent:!0});return t.stylesheet?(t.stylesheet.rules.forEach(function(t){"selectors"in t&&(t.selectors||[]).forEach(function(t){if(h.test(t)){var r=t.replace(h,"$1.\\:hover");e=e.replace(t,t+", "+r)}})}),e):e}function y(t,r){switch(t.type){case e.NodeType.Document:return r.implementation.createDocument(null,"",null);case e.NodeType.DocumentType:return r.implementation.createDocumentType(t.name,t.publicId,t.systemId);case e.NodeType.Element:var n=function(e){var t=d[e.tagName]?d[e.tagName]:e.tagName;return"link"===t&&e.attributes._cssText&&(t="style"),t}(t),i=void 0;for(var a in i=t.isSVG?r.createElementNS("http://www.w3.org/2000/svg",n):r.createElement(n),t.attributes)if(t.attributes.hasOwnProperty(a)&&!a.startsWith("rr_")){var o=t.attributes[a];o="boolean"==typeof o?"":o;var s="textarea"===n&&"value"===a,u="style"===n&&"_cssText"===a;if(u&&(o=v(o)),s||u){for(var c=r.createTextNode(o),f=0,l=Array.from(i.childNodes);f<l.length;f++){var p=l[f];p.nodeType===i.TEXT_NODE&&i.removeChild(p)}i.appendChild(c);continue}if("iframe"===n&&"src"===a)continue;try{t.isSVG&&"xlink:href"===a?i.setAttributeNS("http://www.w3.org/1999/xlink",a,o):i.setAttribute(a,o)}catch(e){}}else t.attributes.rr_width&&(i.style.width=t.attributes.rr_width),t.attributes.rr_height&&(i.style.height=t.attributes.rr_height);return i;case e.NodeType.Text:return r.createTextNode(t.isStyle?v(t.textContent):t.textContent);case e.NodeType.CDATA:return r.createCDATASection(t.textContent);case e.NodeType.Comment:return r.createComment(t.textContent);default:return null}}function g(t,r,n,i){void 0===i&&(i=!1);var a=y(t,r);if(!a)return null;if(t.type===e.NodeType.Document&&(r.close(),r.open(),a=r),a.__sn=t,n[t.id]=a,(t.type===e.NodeType.Document||t.type===e.NodeType.Element)&&!i)for(var o=0,s=t.childNodes;o<s.length;o++){var u=s[o],c=g(u,r,n);c?a.appendChild(c):console.warn("Failed to rebuild",u)}return a}return e.snapshot=function(e,t,r,n){void 0===t&&(t="rr-block"),void 0===r&&(r=!0),void 0===n&&(n=!1);var i={};return[f(e,e,i,t,!1,r,n),i]},e.serializeNodeWithId=f,e.rebuild=function(e,t){var r={};return[g(e,t,r),r]},e.buildNodeWithSN=g,e}({});
//# sourceMappingURL=rrweb-snapshot.min.js.map
